
> ğŸ“Œ **ã“ã®è¨˜äº‹ã§å­¦ã¶ã“ã¨**
>
> - React Router ã¨ã¯
> - ãƒ«ãƒ¼ãƒˆå®šç¾©
> - Link ã¨ useNavigate
> - URL ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

> ğŸ’¡ ã“ã®è¨˜äº‹ã¯**ä»»æ„**ã§ã™ã€‚å˜ä¸€ãƒšãƒ¼ã‚¸ã§ååˆ†ãªå ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½ã§ã™ã€‚

## React Router ã¨ã¯ï¼Ÿ

**React Router** ã¯ã€React ã§ãƒšãƒ¼ã‚¸é·ç§»ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚

- è¤‡æ•°ãƒšãƒ¼ã‚¸ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹
- URL ã«å¿œã˜ã¦è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
- ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹/é€²ã‚€ã«å¯¾å¿œ

### ãªãœ SPA ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå¿…è¦ï¼Ÿ

React ã‚¢ãƒ—ãƒªã¯ **SPAï¼ˆSingle Page Applicationï¼‰** ã§ã™ã€‚
å®Ÿéš›ã¯ 1 ã¤ã® HTML ãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã§ã€JavaScript ã§è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã„ã¾ã™ã€‚

ã§ã‚‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ URL ã§ãƒšãƒ¼ã‚¸ã‚’å…±æœ‰ã—ãŸã‚Šã€ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã—ãŸã‚Šã—ãŸã„ã¯ãšã€‚
**React Router** ã‚’ä½¿ã†ã¨ã€URL ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¡¨ç¤ºã‚’åŒæœŸã§ãã¾ã™ã€‚

> ğŸ’¡ Next.js ã‚’ä½¿ã†å ´åˆã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€React Router ã¯ä¸è¦ã§ã™ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install react-router-dom
```

## åŸºæœ¬è¨­å®š

**src/main.jsx**

```jsx
import { BrowserRouter } from "react-router-dom";
import App from "./App";

ReactDOM.createRoot(document.getElementById("root")).render(
  <BrowserRouter>
    <App />
  </BrowserRouter>
);
```

## ãƒ«ãƒ¼ãƒˆå®šç¾©

**src/App.jsx**

```jsx
import { Routes, Route } from "react-router-dom";
import Home from "./pages/Home";
import About from "./pages/About";
import Contact from "./pages/Contact";

function App() {
  return (
    <div>
      <nav>{/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}</nav>

      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
        <Route path="/contact" element={<Contact />} />
      </Routes>
    </div>
  );
}
```

## Link ã§ãƒšãƒ¼ã‚¸é·ç§»

```jsx
import { Link } from "react-router-dom";

function Navbar() {
  return (
    <nav>
      <Link to="/">ãƒ›ãƒ¼ãƒ </Link>
      <Link to="/about">About</Link>
      <Link to="/contact">ãŠå•ã„åˆã‚ã›</Link>
    </nav>
  );
}
```

### NavLinkï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ï¼‰

```jsx
import { NavLink } from "react-router-dom";

<NavLink to="/about" className={({ isActive }) => (isActive ? "active" : "")}>
  About
</NavLink>;
```

## useNavigate ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ã«é·ç§»

```jsx
import { useNavigate } from "react-router-dom";

function LoginForm() {
  const navigate = useNavigate();

  const handleSubmit = async (e) => {
    e.preventDefault();
    // ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†...
    navigate("/dashboard"); // æˆåŠŸã—ãŸã‚‰é·ç§»
  };

  return <form onSubmit={handleSubmit}>{/* ... */}</form>;
}
```

## URL ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

### å®šç¾©

```jsx
<Route path="/users/:id" element={<UserDetail />} />
```

### å–å¾—

```jsx
import { useParams } from "react-router-dom";

function UserDetail() {
  const { id } = useParams();

  return <h1>ãƒ¦ãƒ¼ã‚¶ãƒ¼ ID: {id}</h1>;
}
```

### ä¾‹ï¼šPokeAPI ã¨çµ„ã¿åˆã‚ã›

```jsx
function PokemonDetail() {
  const { name } = useParams();
  const [pokemon, setPokemon] = useState(null);

  useEffect(() => {
    fetch(`https://pokeapi.co/api/v2/pokemon/${name}`)
      .then((res) => res.json())
      .then((data) => setPokemon(data));
  }, [name]);

  if (!pokemon) return <p>èª­ã¿è¾¼ã¿ä¸­...</p>;

  return (
    <div>
      <h1>{pokemon.name}</h1>
      <img src={pokemon.sprites.front_default} alt={pokemon.name} />
    </div>
  );
}
```

## 404 ãƒšãƒ¼ã‚¸

```jsx
<Routes>
  <Route path="/" element={<Home />} />
  <Route path="/about" element={<About />} />
  <Route path="*" element={<NotFound />} /> {/* 404 */}
</Routes>;

function NotFound() {
  return (
    <div>
      <h1>404 - ãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h1>
      <Link to="/">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</Link>
    </div>
  );
}
```

## ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ«ãƒ¼ãƒˆ

```jsx
function App() {
  return (
    <Routes>
      <Route path="/" element={<Layout />}>
        <Route index element={<Home />} />
        <Route path="about" element={<About />} />
        <Route path="users" element={<Users />}>
          <Route path=":id" element={<UserDetail />} />
        </Route>
      </Route>
    </Routes>
  );
}

function Layout() {
  return (
    <div>
      <Navbar />
      <main>
        <Outlet /> {/* å­ãƒ«ãƒ¼ãƒˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ */}
      </main>
      <Footer />
    </div>
  );
}
```

## useSearchParamsï¼ˆã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰

```jsx
import { useSearchParams } from "react-router-dom";

function SearchResults() {
  const [searchParams, setSearchParams] = useSearchParams();
  const query = searchParams.get("q");

  // URL: /search?q=react
  // query = "react"

  return (
    <div>
      <p>æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: {query}</p>
    </div>
  );
}
```

## ã¾ã¨ã‚

- **React Router** ã§ãƒšãƒ¼ã‚¸é·ç§»ã‚’å®Ÿç¾
- **Routes** ã¨ **Route** ã§ãƒ«ãƒ¼ãƒˆå®šç¾©
- **Link** ã§ãƒšãƒ¼ã‚¸é·ç§»ãƒªãƒ³ã‚¯
- **useNavigate** ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ã«é·ç§»
- **useParams** ã§ URL ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å–å¾—
- `path="*"` ã§ 404 ãƒšãƒ¼ã‚¸

## ã‚ˆãã‚ã‚‹é–“é•ã„

### BrowserRouter ã®é…ç½®å ´æ‰€

```jsx
// âŒ App å†…ã§ BrowserRouter ã‚’ä½¿ã†
function App() {
  return (
    <BrowserRouter>
      {" "}
      // â† main.jsx ã«ç½®ãã¹ã
      <Routes>...</Routes>
    </BrowserRouter>
  );
}

// â­• main.jsx ã§ãƒ©ãƒƒãƒ—
ReactDOM.createRoot(document.getElementById("root")).render(
  <BrowserRouter>
    <App />
  </BrowserRouter>
);
```

### Link ã¨ a ã‚¿ã‚°ã®é•ã„

```jsx
// âŒ a ã‚¿ã‚°ã‚’ä½¿ã†ã¨ãƒšãƒ¼ã‚¸å…¨ä½“ãŒãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹
<a href="/about">About</a>

// â­• Link ã‚’ä½¿ã†ã¨ SPA ã®ã¾ã¾é·ç§»
<Link to="/about">About</Link>
```

## ç·´ç¿’å•é¡Œ

ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸æ§‹æˆã‚’ React Router ã§ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼š

1. ãƒ›ãƒ¼ãƒ  (`/`)
2. è¨˜äº‹ä¸€è¦§ (`/posts`)
3. è¨˜äº‹è©³ç´° (`/posts/:id`)
4. 404 ãƒšãƒ¼ã‚¸

### å›ç­”ä¾‹

```jsx
import { Routes, Route, Link, useParams } from "react-router-dom";

function App() {
  return (
    <div>
      <nav>
        <Link to="/">ãƒ›ãƒ¼ãƒ </Link> | <Link to="/posts">è¨˜äº‹ä¸€è¦§</Link>
      </nav>
      <Routes>
        <Route path="/" element={<h1>ãƒ›ãƒ¼ãƒ </h1>} />
        <Route path="/posts" element={<h1>è¨˜äº‹ä¸€è¦§</h1>} />
        <Route path="/posts/:id" element={<PostDetail />} />
        <Route path="*" element={<h1>404 Not Found</h1>} />
      </Routes>
    </div>
  );
}

function PostDetail() {
  const { id } = useParams();
  return <h1>è¨˜äº‹ ID: {id}</h1>;
}
```

---

## ğŸ”— æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

React Router ãŒã‚ã‹ã£ãŸã‚‰ã€UI ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®åˆ†é›¢ ã«é€²ã¿ã¾ã—ã‚‡ã†ï¼
