
> ğŸ“Œ **ã“ã®è¨˜äº‹ã§å­¦ã¶ã“ã¨**
>
> - CRUD ã®å®Œå…¨å®Ÿè£…
> - æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½
> - localStorage ã§ã®æ°¸ç¶šåŒ–
> - Tailwind CSS ã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

> ğŸ“ **React åŸºç¤ç« ã®ç°¡æ˜“ç‰ˆã‹ã‚‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚¢ãƒƒãƒ—**

## å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸

{/*
ğŸ“¸ ç”»åƒãƒ¡ãƒ¢: ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¢ãƒ—ãƒªï¼ˆæœ¬æ ¼ç‰ˆï¼‰ã®å®Œæˆç”»é¢
*/}

### ç°¡æ˜“ç‰ˆã¨ã®æ¯”è¼ƒ

| æ©Ÿèƒ½           | ç°¡æ˜“ç‰ˆ | æœ¬æ ¼ç‰ˆ |
| -------------- | ------ | ------ |
| è¿½åŠ            | â­•     | â­•     |
| å‰Šé™¤           | â­•     | â­•     |
| å®Œäº†åˆ‡ã‚Šæ›¿ãˆ   | â­•     | â­•     |
| **ç·¨é›†**       | âŒ     | â­•     |
| **æ¤œç´¢**       | âŒ     | â­•     |
| **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼** | âŒ     | â­•     |
| **æ°¸ç¶šåŒ–**     | âŒ     | â­•     |

## Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™

```bash
cd ~/Desktop/webex
npm create vite@latest todo-app-advanced -- --template react
cd todo-app-advanced
npm install
```

### Tailwind CSS ã‚’è¿½åŠ 

```bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

**tailwind.config.js**

```javascript
export default {
  content: ["./index.html", "./src/**/*.{js,jsx}"],
  theme: { extend: {} },
  plugins: [],
};
```

**src/index.css**

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

## Step 2: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½œæˆ

> ğŸ’¡ **ãªãœæœ€åˆã«ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼Ÿ**
> CRUD ãƒ­ã‚¸ãƒƒã‚¯ã‚’å…ˆã«ä½œã£ã¦ãŠãã¨ã€UI ã‚’ä½œã‚‹ã¨ãã¯ã€Œè¡¨ç¤ºã ã‘ã€ã«é›†ä¸­ã§ãã¾ã™ã€‚

**src/hooks/useTodos.js**

```jsx
import { useState, useEffect } from "react";

const STORAGE_KEY = "todos";

export function useTodos() {
  const [todos, setTodos] = useState(() => {
    const saved = localStorage.getItem(STORAGE_KEY);
    return saved ? JSON.parse(saved) : [];
  });

  // localStorage ã«ä¿å­˜
  useEffect(() => {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(todos));
  }, [todos]);

  const addTodo = (text) => {
    setTodos([
      ...todos,
      { id: crypto.randomUUID(), text, done: false, createdAt: Date.now() },
    ]);
  };

  const updateTodo = (id, updates) => {
    setTodos(todos.map((t) => (t.id === id ? { ...t, ...updates } : t)));
  };

  const deleteTodo = (id) => {
    setTodos(todos.filter((t) => t.id !== id));
  };

  const toggleTodo = (id) => {
    setTodos(todos.map((t) => (t.id === id ? { ...t, done: !t.done } : t)));
  };

  return { todos, addTodo, updateTodo, deleteTodo, toggleTodo };
}
```

## Step 3: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆ

**src/components/TodoForm.jsx**

```jsx
import { useState } from "react";

export default function TodoForm({ onAdd }) {
  const [text, setText] = useState("");

  const handleSubmit = (e) => {
    e.preventDefault();
    if (!text.trim()) return;
    onAdd(text);
    setText("");
  };

  return (
    <form onSubmit={handleSubmit} className="flex gap-2 mb-6">
      <input
        type="text"
        value={text}
        onChange={(e) => setText(e.target.value)}
        placeholder="æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’å…¥åŠ›..."
        className="flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <button
        type="submit"
        className="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition"
      >
        è¿½åŠ 
      </button>
    </form>
  );
}
```

**src/components/TodoFilter.jsx**

```jsx
export default function TodoFilter({
  filter,
  onFilterChange,
  searchTerm,
  onSearchChange,
}) {
  const filters = [
    { value: "all", label: "ã™ã¹ã¦" },
    { value: "active", label: "æœªå®Œäº†" },
    { value: "completed", label: "å®Œäº†" },
  ];

  return (
    <div className="flex flex-col sm:flex-row gap-4 mb-6">
      <input
        type="text"
        value={searchTerm}
        onChange={(e) => onSearchChange(e.target.value)}
        placeholder="æ¤œç´¢..."
        className="flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <div className="flex gap-2">
        {filters.map((f) => (
          <button
            key={f.value}
            onClick={() => onFilterChange(f.value)}
            className={`px-4 py-2 rounded-lg transition ${
              filter === f.value
                ? "bg-blue-500 text-white"
                : "bg-gray-100 hover:bg-gray-200"
            }`}
          >
            {f.label}
          </button>
        ))}
      </div>
    </div>
  );
}
```

**src/components/TodoItem.jsx**

```jsx
import { useState } from "react";

export default function TodoItem({ todo, onToggle, onUpdate, onDelete }) {
  const [isEditing, setIsEditing] = useState(false);
  const [editText, setEditText] = useState(todo.text);

  const handleSave = () => {
    if (!editText.trim()) return;
    onUpdate(todo.id, { text: editText });
    setIsEditing(false);
  };

  const handleCancel = () => {
    setEditText(todo.text);
    setIsEditing(false);
  };

  if (isEditing) {
    return (
      <li className="flex gap-2 p-4 bg-white rounded-lg shadow">
        <input
          type="text"
          value={editText}
          onChange={(e) => setEditText(e.target.value)}
          className="flex-1 px-2 py-1 border rounded"
          autoFocus
        />
        <button
          onClick={handleSave}
          className="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600"
        >
          ä¿å­˜
        </button>
        <button
          onClick={handleCancel}
          className="px-3 py-1 bg-gray-300 rounded hover:bg-gray-400"
        >
          ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        </button>
      </li>
    );
  }

  return (
    <li className="flex items-center gap-3 p-4 bg-white rounded-lg shadow">
      <input
        type="checkbox"
        checked={todo.done}
        onChange={() => onToggle(todo.id)}
        className="w-5 h-5"
      />
      <span
        className={`flex-1 ${todo.done ? "line-through text-gray-400" : ""}`}
      >
        {todo.text}
      </span>
      <button
        onClick={() => setIsEditing(true)}
        className="px-3 py-1 text-blue-500 hover:bg-blue-50 rounded"
      >
        ç·¨é›†
      </button>
      <button
        onClick={() => {
          if (confirm("å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) onDelete(todo.id);
        }}
        className="px-3 py-1 text-red-500 hover:bg-red-50 rounded"
      >
        å‰Šé™¤
      </button>
    </li>
  );
}
```

**src/components/TodoList.jsx**

```jsx
import TodoItem from "./TodoItem";

export default function TodoList({ todos, onToggle, onUpdate, onDelete }) {
  if (todos.length === 0) {
    return <p className="text-center text-gray-500 py-8">ã‚¿ã‚¹ã‚¯ãŒã‚ã‚Šã¾ã›ã‚“</p>;
  }

  return (
    <ul className="space-y-3">
      {todos.map((todo) => (
        <TodoItem
          key={todo.id}
          todo={todo}
          onToggle={onToggle}
          onUpdate={onUpdate}
          onDelete={onDelete}
        />
      ))}
    </ul>
  );
}
```

## Step 4: App.jsx ã‚’å®Œæˆ

**src/App.jsx**

```jsx
import { useState, useMemo } from "react";
import { useTodos } from "./hooks/useTodos";
import TodoForm from "./components/TodoForm";
import TodoFilter from "./components/TodoFilter";
import TodoList from "./components/TodoList";

function App() {
  const { todos, addTodo, updateTodo, deleteTodo, toggleTodo } = useTodos();
  const [filter, setFilter] = useState("all");
  const [searchTerm, setSearchTerm] = useState("");

  const filteredTodos = useMemo(() => {
    return todos
      .filter((todo) => {
        if (filter === "active") return !todo.done;
        if (filter === "completed") return todo.done;
        return true;
      })
      .filter((todo) =>
        todo.text.toLowerCase().includes(searchTerm.toLowerCase())
      );
  }, [todos, filter, searchTerm]);

  const stats = useMemo(
    () => ({
      total: todos.length,
      active: todos.filter((t) => !t.done).length,
      completed: todos.filter((t) => t.done).length,
    }),
    [todos]
  );

  return (
    <div className="min-h-screen bg-gray-100 py-8">
      <div className="max-w-2xl mx-auto px-4">
        <h1 className="text-3xl font-bold text-center mb-8">ğŸ“ ã‚¿ã‚¹ã‚¯ç®¡ç†</h1>

        <TodoForm onAdd={addTodo} />

        <TodoFilter
          filter={filter}
          onFilterChange={setFilter}
          searchTerm={searchTerm}
          onSearchChange={setSearchTerm}
        />

        <TodoList
          todos={filteredTodos}
          onToggle={toggleTodo}
          onUpdate={updateTodo}
          onDelete={deleteTodo}
        />

        <div className="mt-6 text-center text-gray-500">
          åˆè¨ˆ: {stats.total} | æœªå®Œäº†: {stats.active} | å®Œäº†: {stats.completed}
        </div>
      </div>
    </div>
  );
}

export default App;
```

## Step 5: å‹•ä½œç¢ºèª

```bash
npm run dev
```

## ãƒã‚¤ãƒ³ãƒˆè§£èª¬

### localStorage ã§ã®æ°¸ç¶šåŒ–

```jsx
// åˆæœŸå€¤ï¼šlocalStorage ã‹ã‚‰èª­ã¿è¾¼ã¿
const [todos, setTodos] = useState(() => {
  const saved = localStorage.getItem(STORAGE_KEY);
  return saved ? JSON.parse(saved) : [];
});

// todos ãŒå¤‰ã‚ã£ãŸã‚‰ä¿å­˜
useEffect(() => {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(todos));
}, [todos]);
```

> ğŸ’¡ **useState ã®é–¢æ•°åˆæœŸåŒ–** > `useState(é–¢æ•°)` ã®å½¢å¼ã§æ¸¡ã™ã¨ã€**åˆå›ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã®ã¿**å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
> localStorage ã®èª­ã¿è¾¼ã¿ã®ã‚ˆã†ãªé‡ã„å‡¦ç†ã«é©ã—ã¦ã„ã¾ã™ã€‚

### ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†

State ã§ã€Œç·¨é›†ä¸­ã‹ã©ã†ã‹ã€ã‚’ç®¡ç†ã—ã€UI ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚

### æ¤œç´¢ + ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®çµ„ã¿åˆã‚ã›

```jsx
const filteredTodos = todos.filter(/* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */).filter(/* æ¤œç´¢ */);
```

## ç™ºå±•èª²é¡Œ

1. **ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—**ã§ä¸¦ã¹æ›¿ãˆ
2. **æœŸé™**ã‚’è¿½åŠ 
3. **ã‚«ãƒ†ã‚´ãƒª**ã§åˆ†é¡
4. **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰**å¯¾å¿œ

## ã¾ã¨ã‚

- **CRUD** ã®å®Œå…¨å®Ÿè£…ï¼ˆè¿½åŠ ãƒ»èª­ã¿å–ã‚Šãƒ»æ›´æ–°ãƒ»å‰Šé™¤ï¼‰
- **æ¤œç´¢**ã¨**ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**ã§çµã‚Šè¾¼ã¿
- **localStorage** ã§ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯**ã§ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢
- **Tailwind CSS** ã§ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

---

## ğŸ”— æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¢ãƒ—ãƒªãŒã§ããŸã‚‰ã€ãƒ–ãƒƒã‚¯ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ—ãƒªã‚’ä½œã‚ã†ï¼ˆãƒãƒ³ã‚ºã‚ªãƒ³ 2ï¼‰ã‹ã€ã¾ã¨ã‚ã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— ã«é€²ã¿ã¾ã—ã‚‡ã†ï¼
