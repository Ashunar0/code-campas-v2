
> ğŸ“Œ **ã“ã®è¨˜äº‹ã§å­¦ã¶ã“ã¨**
>
> - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨é…åˆ—ã®å¿œç”¨
> - çŠ¶æ…‹ç®¡ç†ã®åŸºç¤
> - åœ¨åº«ç®¡ç†ã®ãƒ­ã‚¸ãƒƒã‚¯

> ğŸ’¡ ã“ã®è¨˜äº‹ã¯**ä»»æ„**ã§ã™ã€‚æ™‚é–“ã«ä½™è£•ãŒã‚ã‚Œã°å–ã‚Šçµ„ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚

## å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸

è‡ªå‹•è²©å£²æ©Ÿã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚

æ©Ÿèƒ½ï¼š

- å•†å“ãƒªã‚¹ãƒˆã®è¡¨ç¤ºï¼ˆåå‰ã€ä¾¡æ ¼ã€åœ¨åº«ï¼‰
- ãŠé‡‘ã®æŠ•å…¥
- å•†å“ã®è³¼å…¥
- ãŠé‡£ã‚Šã®è¨ˆç®—
- åœ¨åº«ç®¡ç†

## Console ã§ä½œã‚‹è‡ªå‹•è²©å£²æ©Ÿ

ã¾ãšã¯ Console ã§å‹•ãè‡ªå‹•è²©å£²æ©Ÿã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚

### Step 1: å•†å“ãƒ‡ãƒ¼ã‚¿

```javascript
// å•†å“ãƒ‡ãƒ¼ã‚¿
const products = [
  { id: 1, name: "ã‚³ãƒ¼ãƒ©", price: 120, stock: 5 },
  { id: 2, name: "ãŠèŒ¶", price: 100, stock: 3 },
  { id: 3, name: "ã‚³ãƒ¼ãƒ’ãƒ¼", price: 130, stock: 4 },
  { id: 4, name: "æ°´", price: 80, stock: 10 },
];

// æŠ•å…¥é‡‘é¡
let insertedMoney = 0;
```

### Step 2: å•†å“ä¸€è¦§ã‚’è¡¨ç¤º

```javascript
const showProducts = () => {
  console.log("=== å•†å“ä¸€è¦§ ===");
  products.forEach((p) => {
    const status = p.stock > 0 ? `åœ¨åº«: ${p.stock}` : "å£²ã‚Šåˆ‡ã‚Œ";
    console.log(`${p.id}. ${p.name} - Â¥${p.price} (${status})`);
  });
  console.log(`æŠ•å…¥é‡‘é¡: Â¥${insertedMoney}`);
  console.log("================");
};

showProducts();
```

### Step 3: ãŠé‡‘ã‚’æŠ•å…¥

```javascript
const insertMoney = (amount) => {
  // æœ‰åŠ¹ãªé‡‘é¡ã‹ãƒã‚§ãƒƒã‚¯
  const validAmounts = [10, 50, 100, 500, 1000];
  if (!validAmounts.includes(amount)) {
    console.log("ç„¡åŠ¹ãªé‡‘é¡ã§ã™ã€‚10, 50, 100, 500, 1000å††ãŒä½¿ãˆã¾ã™ã€‚");
    return;
  }

  insertedMoney += amount;
  console.log(`Â¥${amount} ã‚’æŠ•å…¥ã—ã¾ã—ãŸã€‚ç¾åœ¨ã®æŠ•å…¥é‡‘é¡: Â¥${insertedMoney}`);
};

// ä½¿ç”¨ä¾‹
insertMoney(100);
insertMoney(100);
```

### Step 4: å•†å“ã‚’è³¼å…¥

```javascript
const buyProduct = (productId) => {
  // å•†å“ã‚’æ¤œç´¢
  const product = products.find((p) => p.id === productId);

  if (!product) {
    console.log("å•†å“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚");
    return;
  }

  // åœ¨åº«ãƒã‚§ãƒƒã‚¯
  if (product.stock <= 0) {
    console.log(`${product.name}ã¯å£²ã‚Šåˆ‡ã‚Œã§ã™ã€‚`);
    return;
  }

  // é‡‘é¡ãƒã‚§ãƒƒã‚¯
  if (insertedMoney < product.price) {
    console.log(
      `é‡‘é¡ãŒè¶³ã‚Šã¾ã›ã‚“ã€‚ã‚ã¨Â¥${product.price - insertedMoney}å¿…è¦ã§ã™ã€‚`
    );
    return;
  }

  // è³¼å…¥å‡¦ç†
  insertedMoney -= product.price;
  product.stock -= 1;

  console.log(`${product.name}ã‚’è³¼å…¥ã—ã¾ã—ãŸï¼`);
  console.log(`æ®‹ã‚Šã®æŠ•å…¥é‡‘é¡: Â¥${insertedMoney}`);
};

// ä½¿ç”¨ä¾‹
buyProduct(2); // ãŠèŒ¶ã‚’è³¼å…¥
```

### Step 5: ãŠé‡£ã‚Šã‚’è¿”å´

```javascript
const returnChange = () => {
  if (insertedMoney > 0) {
    console.log(`ãŠé‡£ã‚Š: Â¥${insertedMoney} ã‚’è¿”å´ã—ã¾ã—ãŸã€‚`);
    insertedMoney = 0;
  } else {
    console.log("ãŠé‡£ã‚Šã¯ã‚ã‚Šã¾ã›ã‚“ã€‚");
  }
};

returnChange();
```

## HTML ç‰ˆ

Console ç‰ˆãŒã§ããŸã‚‰ã€HTML ã§è¦‹ãŸç›®ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

**index.html**

```html
<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>è‡ªå‹•è²©å£²æ©Ÿ</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: sans-serif;
        background: #f5f5f5;
        padding: 20px;
      }
      .vending-machine {
        max-width: 400px;
        margin: 0 auto;
        background: #333;
        border-radius: 12px;
        padding: 20px;
      }
      h1 {
        color: #fff;
        text-align: center;
        margin-bottom: 20px;
      }
      .products {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .product {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #444;
        padding: 12px;
        border-radius: 8px;
        color: #fff;
      }
      .product.sold-out {
        opacity: 0.5;
      }
      .product button {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        background: #4caf50;
        color: white;
      }
      .product button:disabled {
        background: #666;
        cursor: not-allowed;
      }
      .money-section {
        margin-top: 20px;
        padding: 16px;
        background: #222;
        border-radius: 8px;
      }
      .money-section p {
        color: #fff;
        margin-bottom: 10px;
      }
      .money-buttons {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }
      .money-buttons button {
        padding: 8px 12px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        background: #2196f3;
        color: white;
      }
      .return-btn {
        margin-top: 10px;
        width: 100%;
        padding: 10px;
        background: #ff9800;
      }
      #message {
        margin-top: 16px;
        padding: 12px;
        background: #111;
        color: #4caf50;
        border-radius: 4px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="vending-machine">
      <h1>ğŸ¥¤ è‡ªå‹•è²©å£²æ©Ÿ</h1>
      <div id="products" class="products"></div>
      <div class="money-section">
        <p>æŠ•å…¥é‡‘é¡: Â¥<span id="inserted">0</span></p>
        <div class="money-buttons">
          <button onclick="insertMoney(10)">Â¥10</button>
          <button onclick="insertMoney(50)">Â¥50</button>
          <button onclick="insertMoney(100)">Â¥100</button>
          <button onclick="insertMoney(500)">Â¥500</button>
          <button onclick="insertMoney(1000)">Â¥1000</button>
        </div>
        <button class="return-btn" onclick="returnChange()">
          ãŠé‡£ã‚Šã‚’è¿”å´
        </button>
      </div>
      <div id="message"></div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
```

**script.js**

```javascript
const products = [
  { id: 1, name: "ã‚³ãƒ¼ãƒ©", price: 120, stock: 5 },
  { id: 2, name: "ãŠèŒ¶", price: 100, stock: 3 },
  { id: 3, name: "ã‚³ãƒ¼ãƒ’ãƒ¼", price: 130, stock: 4 },
  { id: 4, name: "æ°´", price: 80, stock: 10 },
];

let insertedMoney = 0;

const productsEl = document.getElementById("products");
const insertedEl = document.getElementById("inserted");
const messageEl = document.getElementById("message");

const render = () => {
  productsEl.innerHTML = products
    .map(
      (p) => `
    <div class="product ${p.stock === 0 ? "sold-out" : ""}">
      <div>
        <strong>${p.name}</strong><br>
        Â¥${p.price} (åœ¨åº«: ${p.stock})
      </div>
      <button 
        onclick="buyProduct(${p.id})"
        ${p.stock === 0 || insertedMoney < p.price ? "disabled" : ""}
      >è³¼å…¥</button>
    </div>
  `
    )
    .join("");

  insertedEl.textContent = insertedMoney;
};

const showMessage = (msg) => {
  messageEl.textContent = msg;
  setTimeout(() => (messageEl.textContent = ""), 3000);
};

const insertMoney = (amount) => {
  insertedMoney += amount;
  showMessage(`Â¥${amount} ã‚’æŠ•å…¥ã—ã¾ã—ãŸ`);
  render();
};

const buyProduct = (id) => {
  const product = products.find((p) => p.id === id);
  if (!product || product.stock === 0) return;
  if (insertedMoney < product.price) return;

  insertedMoney -= product.price;
  product.stock -= 1;
  showMessage(`${product.name}ã‚’è³¼å…¥ã—ã¾ã—ãŸï¼ğŸ‰`);
  render();
};

const returnChange = () => {
  if (insertedMoney > 0) {
    showMessage(`ãŠé‡£ã‚Š Â¥${insertedMoney} ã‚’è¿”å´ã—ã¾ã—ãŸ`);
    insertedMoney = 0;
    render();
  }
};

render();
```

## ã¾ã¨ã‚

- **ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—**ã§å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†
- **çŠ¶æ…‹ç®¡ç†**ï¼ˆinsertedMoney, stockï¼‰ã§å‹•ä½œã‚’åˆ¶å¾¡
- **æ¡ä»¶åˆ†å²**ã§è³¼å…¥å¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯
- `find` ã§å•†å“ã‚’æ¤œç´¢

---

## ğŸ”— æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

æ¬¡ã¯ã€ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªã‚’ä½œã‚ã† ã«é€²ã¿ã¾ã—ã‚‡ã†ï¼
