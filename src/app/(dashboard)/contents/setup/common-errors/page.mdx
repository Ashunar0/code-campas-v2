# よくあるエラーと解決策

> 📌 **この記事で学ぶこと**
>
> - 環境構築でよくあるエラー
> - それぞれの解決策
> - トラブルシューティングの基本手順

## はじめに

環境構築でエラーが出るのは**普通のこと**です。
プロのエンジニアでも、環境構築でつまずくことはよくあります。

大事なのは、**落ち着いてエラーメッセージを読む**こと。
この記事では、よくあるエラーとその解決策をまとめました。

## Node.js 関連のエラー

### 「command not found: node」

**原因：** Node.js が正しくインストールされていない、またはパスが通っていない。

**解決策：**

1. ターミナルを**一度閉じて、再度開く**
2. それでもダメなら PC を**再起動**
3. それでもダメなら Node.js を**再インストール**

<!--
📸 画像メモ: command not found エラーの画面
-->

### 「npm ERR! code EACCES」（Mac）

**原因：** npm のグローバルフォルダへのアクセス権限がない。

**解決策：**

```bash
sudo chown -R $(whoami) ~/.npm
```

または、Node.js を **nvm を使ってインストールし直す**（上級者向け）。

### 「npm WARN deprecated」

**原因：** 使っているパッケージが古い。

**解決策：** これは**警告（Warning）**なので、基本的に**無視して OK**。
エラー（Error）ではないので、動作に問題はありません。

## npm install のエラー

### 「npm ERR! code ERESOLVE」

**原因：** パッケージ同士のバージョンが合わない。

**解決策：**

```bash
npm install --legacy-peer-deps
```

<!--
📸 画像メモ: ERESOLVE エラーの画面
-->

### 「npm ERR! network」

**原因：** インターネット接続に問題がある。

**解決策：**

1. インターネット接続を確認
2. Wi-Fi を**オフ → オン**してみる
3. 別のネットワークで試す

### npm install が終わらない

**原因：** ネットワークが遅い、または大量のパッケージをダウンロード中。

**解決策：**

- しばらく**待つ**（5〜10 分かかることもある）
- `Ctrl + C` で停止して、もう一度 `npm install` を実行

## Vite / 開発サーバーのエラー

### 「Port 5173 is already in use」

**原因：** 別のプロセスがポート 5173 を使用中。

**解決策：**

**方法 1: 別のポートを使う**

```bash
npm run dev -- --port 3000
```

**方法 2: 使用中のプロセスを終了**

Mac:

```bash
lsof -i :5173
kill -9 <PID>
```

Windows:

```bash
netstat -ano | findstr :5173
taskkill /PID <PID> /F
```

<!--
📸 画像メモ: Port already in use エラーの画面
-->

### 「Module not found」

**原因：** 必要なパッケージがインストールされていない。

**解決策：**

```bash
npm install
```

それでもダメなら：

```bash
rm -rf node_modules
npm install
```

## Git 関連のエラー

### 「fatal: not a git repository」

**原因：** Git リポジトリではないフォルダで Git コマンドを実行した。

**解決策：**

1. 正しいフォルダにいるか `pwd` で確認
2. 新しくリポジトリを作る場合は `git init` を実行

### 「Permission denied (publickey)」

**原因：** SSH キーが設定されていない、または正しくない。

**解決策：**

- HTTPS を使う（初心者向け）
- SSH キーを設定する（Chapter 6 で詳しく説明）

## VSCode 関連のエラー

### 拡張機能がうまく動かない

**原因：** 拡張機能のバグ、または設定の問題。

**解決策：**

1. VSCode を**再起動**
2. 拡張機能を**アンインストール → 再インストール**
3. VSCode を**最新版に更新**

### ターミナルが開かない

**原因：** シェルの設定問題。

**解決策：**

1. `Cmd/Ctrl + Shift + P` でコマンドパレットを開く
2. 「Terminal: Select Default Profile」を選択
3. 適切なシェルを選ぶ（Mac: zsh, Windows: PowerShell）

## トラブルシューティングの基本手順

エラーが出たときは、以下の手順で対処しましょう：

### 1. エラーメッセージを読む

英語でも、Google 翻訳を使えば OK。
「Error」の後に書いてあることが重要。

### 2. ターミナルを再起動

ターミナルを閉じて、もう一度開く。
インストール直後は、これで直ることが多い。

### 3. PC を再起動

意外とこれで解決することが多いです。

### 4. エラーメッセージで検索

1. エラーメッセージをコピー
2. Google で検索
3. Stack Overflow や Qiita などの記事を参考にする

<!--
📸 画像メモ: エラーメッセージを Google 検索している様子
-->

### 5. node_modules を削除して再インストール

```bash
rm -rf node_modules
npm install
```

Windows の場合:

```bash
rmdir /s /q node_modules
npm install
```

### 6. メンターに聞く

上記を試してもダメなら、メンターに相談しましょう。

**聞くときのコツ:**

- スクリーンショットを撮る
- どのコマンドを実行したか伝える
- どんなエラーが出たか伝える

## エラーメッセージの読み方

エラーメッセージには、以下の情報が含まれています：

```
npm ERR! code ERESOLVE
npm ERR! ERESOLVE unable to resolve dependency tree
npm ERR!
npm ERR! While resolving: my-app@0.0.0
npm ERR! Found: react@18.2.0
npm ERR! ...
```

- **ERR!**: エラーを示す
- **code ERESOLVE**: エラーの種類
- **unable to resolve dependency tree**: 何が問題か
- 以降: 詳細情報

**キーワード**（code や error の後の単語）で検索すると、解決策が見つかりやすいです。

## まとめ

- エラーが出るのは**普通のこと**
- まずは**エラーメッセージを読む**
- **再起動**で直ることが多い
- 困ったら**メンターに相談**

---

## 🔗 次のステップ

エラー対処法がわかったら、[まとめとチェックリスト](./00-08_まとめとチェックリスト.md) で環境構築が完了しているか確認しましょう！
