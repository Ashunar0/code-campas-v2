# Pull Request の基礎

## この記事で学ぶこと

- Pull Request（PR）とは
- PR の作成手順
- PR のタイトルと説明の書き方
- レビュアーの指定
- Draft PR の活用

---

## Pull Request とは

### PR = レビュー付きのマージ依頼

**Pull Request（PR）**は、「このブランチの変更を main に取り込んでほしい」というリクエストです。

```
Pull Request の流れ：
├── 1. ブランチで開発
├── 2. コミット・プッシュ
├── 3. GitHub で PR を作成
├── 4. レビュアーがコードを確認
├── 5. フィードバックを反映
└── 6. 承認されたらマージ
```

### なぜ PR を使うのか

```
メリット：
├── コードレビューを受けられる
├── バグや問題を事前に発見
├── 変更内容が履歴として残る
├── チームで知識を共有
└── 品質を保てる
```

📸 画像メモ: GitHub の Pull Request 一覧画面

---

## PR の作成手順

### 1. ブランチで開発

```bash
# ブランチを作成
git checkout -b feature/add-search

# 開発してコミット
git add .
git commit -m "検索機能を追加"
```

### 2. ブランチをプッシュ

```bash
git push -u origin feature/add-search
```

### 3. GitHub で PR を作成

GitHub にアクセスすると、「Compare & pull request」ボタンが表示されます。

📸 画像メモ: 「Compare & pull request」ボタン

### 4. PR の情報を入力

```
入力項目：
├── タイトル: 変更内容を簡潔に
├── 説明: 詳細な説明（なぜ、何を、どう変更したか）
├── Reviewers: レビューしてほしい人
├── Assignees: 担当者
└── Labels: タグ（feature, bug, docs など）
```

### 5. 「Create pull request」をクリック

📸 画像メモ: PR 作成画面

---

## PR のタイトルの書き方

### 良いタイトルの例

```
✅ [feature] 検索機能を追加
✅ [fix] ログインフォームのバリデーションを修正
✅ [docs] README にインストール手順を追加
✅ タスク削除機能を実装 (#12)
```

### 悪いタイトルの例

```
❌ 修正
❌ Update
❌ 作業中
❌ WIP
```

### プレフィックスのルール

| プレフィックス | 用途 |
|:--------------|:-----|
| `[feature]` | 新機能 |
| `[fix]` | バグ修正 |
| `[docs]` | ドキュメント |
| `[refactor]` | リファクタリング |
| `[style]` | スタイル変更 |

---

## PR の説明の書き方

### テンプレート例

```markdown
## 概要
何を変更したかの簡単な説明

## 変更内容
- 変更点1
- 変更点2
- 変更点3

## 関連 Issue
#12

## スクリーンショット
（UIの変更がある場合）

## テスト方法
1. npm run dev でサーバーを起動
2. /login ページにアクセス
3. メールとパスワードを入力してログイン

## チェックリスト
- [ ] コードが動作することを確認した
- [ ] 関連するテストを追加した
- [ ] ドキュメントを更新した
```

### 実際の例

```markdown
## 概要
タスク一覧に検索機能を追加しました。

## 変更内容
- 検索入力欄を追加 (`SearchInput.jsx`)
- フィルタリングロジックを追加 (`useTasks.js`)
- 検索結果が0件の時のメッセージを表示

## 関連 Issue
fixes #15

## スクリーンショット
![検索機能のスクリーンショット](url)

## テスト方法
1. `npm run dev` で起動
2. タスクを数件追加
3. 検索欄にテキストを入力
4. リアルタイムでフィルタリングされることを確認
```

📸 画像メモ: 説明が充実した PR の例

---

## レビュアーの指定

### Reviewers の設定

```
画面右側の「Reviewers」から設定：
├── チームメンバーを検索
├── クリックして追加
└── 複数人指定可能
```

### 誰にレビューを依頼するか

```
依頼先の目安：
├── チームリーダー
├── 関連機能の担当者
├── メンターや先輩
└── ペアプロのパートナー
```

### レビュー依頼時の注意点

```
ポイント：
├── レビューしやすい単位で PR を作る
├── 変更が大きすぎる場合は分割
├── 説明を丁寧に書く
└── 急ぎの場合は Slack 等でも連絡
```

---

## Draft PR の活用

### Draft PR とは

まだ完成していない、作業中の PR です。

```
用途：
├── 早めにフィードバックが欲しい
├── 進捗を共有したい
├── 方向性を確認したい
└── 誤ってマージされるのを防ぐ
```

### Draft PR の作成

「Create pull request」ボタンの横にある▼をクリックし、「Create draft pull request」を選択します。

📸 画像メモ: Draft PR 作成ボタン

### Draft から Ready に変更

完成したら「Ready for review」ボタンをクリックします。

📸 画像メモ: Ready for review ボタン

---

## PR のライフサイクル

### 典型的な流れ

```
1. [Draft PR] 作成
   ↓
2. [進行中] 開発を続ける
   ↓
3. [Ready for review] レビュー依頼
   ↓
4. [変更リクエスト] フィードバックを受ける
   ↓
5. [修正] コードを修正してプッシュ
   ↓
6. [承認] Approve を受ける
   ↓
7. [マージ] main にマージ
   ↓
8. [クローズ] ブランチを削除
```

### PR のステータス

| ステータス | 意味 |
|:----------|:-----|
| Open | オープン中（レビュー待ちなど） |
| Draft | 作業中（マージ不可） |
| Changes requested | 修正依頼あり |
| Approved | 承認済み |
| Merged | マージ完了 |
| Closed | クローズ（マージせず終了） |

---

## 実践：PR を作成する

### シナリオ

フッターコンポーネントを追加する PR を作成します。

### 1. ブランチで開発

```bash
git checkout main
git pull origin main
git checkout -b feature/add-footer

# Footer.jsx を作成...

git add .
git commit -m "Footerコンポーネントを追加"
git push -u origin feature/add-footer
```

### 2. GitHub で PR を作成

1. GitHub にアクセス
2. 「Compare & pull request」をクリック
3. 以下を入力：

```
タイトル: [feature] Footerコンポーネントを追加

説明:
## 概要
サイト下部にフッターを追加しました。

## 変更内容
- Footer.jsx を作成
- App.jsx に Footer を追加
- フッターのスタイリング

## チェックリスト
- [x] ローカルで動作確認済み
```

4. 「Create pull request」をクリック

---

## まとめ

Pull Request を使って、安全にコードをマージできます。

### PR の流れ

```
1. ブランチで開発
2. コミット・プッシュ
3. GitHub で PR 作成
4. レビューを受ける
5. 修正してプッシュ
6. 承認されたらマージ
```

### ポイント

```
✅ タイトルは簡潔でわかりやすく
✅ 説明は丁寧に（何を、なぜ、どう）
✅ 適切なレビュアーを指定
✅ 作業中は Draft PR を活用
✅ 小さい単位で PR を作成
```

次の記事では、コードレビューの基礎について学びます。

---

## 次の記事へ

[06-08. コードレビューの基礎](./06-08_コードレビューの基礎.md)
