# API Routesï¼ˆä»»æ„ï¼‰

## ã“ã®è¨˜äº‹ã§å­¦ã¶ã“ã¨

- Route Handlers ã¨ã¯
- API ãƒ«ãƒ¼ãƒˆã®ä½œæˆ
- GET / POST ã®å®Ÿè£…

---

## Route Handlers ã¨ã¯

Next.js ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨åŒã˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ API ã‚’ä½œæˆã§ãã¾ã™ã€‚

```
app/
â””â”€â”€ api/
    â””â”€â”€ hello/
        â””â”€â”€ route.js  â†’ GET /api/hello
```

---

## GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```javascript
// app/api/hello/route.js
export async function GET() {
  return Response.json({
    message: 'Hello from API!'
  });
}
```

### ã‚¢ã‚¯ã‚»ã‚¹

```
GET http://localhost:3000/api/hello

Response: { "message": "Hello from API!" }
```

---

## POST ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

```javascript
// app/api/posts/route.js
export async function POST(request) {
  const data = await request.json();
  
  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã™ã‚‹å‡¦ç†ãªã©
  console.log(data);
  
  return Response.json({
    success: true,
    data: data
  });
}
```

---

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®å‘¼ã³å‡ºã—

```jsx
"use client";

async function createPost() {
  const res = await fetch('/api/posts', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ title: 'New Post' }),
  });
  const data = await res.json();
  console.log(data);
}
```

---

## ğŸ¯ Try: ç°¡å˜ãªAPIã‚’ä½œæˆ

ç¾åœ¨æ™‚åˆ»ã‚’è¿”ã™ API ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

1. `app/api/time/route.js` ã‚’ä½œæˆ
2. ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ï¼š
   ```javascript
   export async function GET() {
     return Response.json({ time: new Date().toISOString() });
   }
   ```
3. http://localhost:3000/api/time ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ç¢ºèª

```
API Routesï¼š
â”œâ”€â”€ app/api/*/route.js ã§å®šç¾©
â”œâ”€â”€ GET(), POST() é–¢æ•°ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”œâ”€â”€ Response.json() ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹
â”œâ”€â”€ fetch ã§å‘¼ã³å‡ºã—
â””â”€â”€ Firebase ã‚’ä½¿ã†ãªã‚‰ä¸è¦ãªå ´åˆã‚‚
```

---

## æ¬¡ã®è¨˜äº‹ã¸

[07-13. ç’°å¢ƒå¤‰æ•°ã®ä½¿ã„æ–¹](./07-13_ç’°å¢ƒå¤‰æ•°ã®ä½¿ã„æ–¹.md)
